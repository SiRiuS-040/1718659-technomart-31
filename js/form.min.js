const formLink=document.querySelector(".about__link--form"),formPopup=document.querySelector(".modal-form"),formClose=formPopup.querySelector(".modal__close"),formForm=formPopup.querySelector(".form"),formName=formPopup.querySelector(".form__input--name"),formMail=formPopup.querySelector(".form__input--mail"),formText=formPopup.querySelector(".form__input--textarea");let isStorageSupport=!0,storage1="",storage2="";try{storage1=localStorage.getItem("name")}catch(o){isStorageSupport=!1}try{storage2=localStorage.getItem("mail")}catch(o){isStorageSupport=!1}formLink.addEventListener("click",function(o){o.preventDefault(),formPopup.classList.add("modal__show"),storage1?(formName.value=storage1,formMail.value=storage2,formText.focus()):formName.focus()}),formClose.addEventListener("click",function(o){o.preventDefault(),formPopup.classList.remove("modal__show"),formPopup.classList.remove("modal__error")}),formForm.addEventListener("submit",function(o){formName.value&&formMail.value&&formText.value?isStorageSupport&&(localStorage.setItem("name",formName.value),localStorage.setItem("mail",formName.value)):(o.preventDefault(),formPopup.classList.remove("modal__error"),formPopup.offsetWidth=formPopup.offsetWidth,formPopup.classList.add("modal__error"))}),window.addEventListener("keydown",function(o){27===o.keyCode&&formPopup.classList.contains("modal__show")&&(o.preventDefault(),formPopup.classList.remove("modal__show"),formPopup.classList.remove("modal__error"))});